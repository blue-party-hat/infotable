<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Last Z Guide</title>

  <style>
    :root{
      --bg:#0b1220;
      --panel:#0f172a;
      --panel2:#111a2e;
      --text:#e5e7eb;
      --muted:#94a3b8;
      --border:rgba(148,163,184,.18);
      --accent:#60a5fa;
      --good:#34d399;
      --warn:#fbbf24;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans JP",sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    a{color:inherit}
    .topbar{
      position:sticky; top:0; z-index:50;
      display:flex; align-items:center; gap:12px;
      padding:10px 12px;
      background:rgba(17,26,46,.92);
      border-bottom:1px solid var(--border);
      backdrop-filter: blur(8px);
    }
    .icon-btn{
      border:1px solid var(--border);
      background:transparent; color:var(--text);
      padding:6px 10px; border-radius:10px; font-size:18px;
      cursor:pointer;
    }
    .brand{font-weight:700}
    .spacer{flex:1}
    .lang{display:flex; gap:8px}
    .lang-btn{
      border:1px solid var(--border);
      background:transparent; color:var(--text);
      padding:6px 10px; border-radius:10px;
      cursor:pointer;
    }
    .lang-btn.active{
      border-color:rgba(96,165,250,.6);
      box-shadow:0 0 0 3px rgba(96,165,250,.15);
    }

    .layout{display:flex; min-height:calc(100vh - 52px)}
    .sidebar{
      width:260px; padding:12px;
      background:var(--panel);
      border-right:1px solid var(--border);
    }
    .nav-item{
      width:100%; text-align:left;
      padding:10px 12px; border-radius:12px;
      border:1px solid transparent;
      background:transparent; color:var(--text);
      cursor:pointer;
    }
    .nav-item:hover{border-color:var(--border); background:rgba(148,163,184,.06)}
    .nav-item.active{border-color:rgba(96,165,250,.45); background:rgba(96,165,250,.10)}

    .main{flex:1; min-width:0; padding:14px}
    .tabs{
      display:flex; gap:8px; flex-wrap:wrap;
      padding-bottom:10px; border-bottom:1px solid var(--border);
      margin-bottom:12px; min-height:40px; align-items:center;
    }
    .tab{
      border:1px solid var(--border);
      background:transparent; color:var(--text);
      padding:8px 10px; border-radius:999px;
      cursor:pointer;
    }
    .tab.active{border-color:rgba(96,165,250,.6); background:rgba(96,165,250,.12)}

    .content{
      background:rgba(17,26,46,.35);
      border:1px solid var(--border);
      border-radius:14px;
      padding:14px;
    }
    .content h2{margin:0 0 10px; font-size:18px}
    .content p{margin:0 0 10px; color:var(--muted); line-height:1.6}

    .grid{
      display:grid;
      grid-template-columns: repeat(12, minmax(0, 1fr));
      gap:12px;
    }
    .card{
      grid-column: span 12;
      border:1px solid var(--border);
      background:rgba(15,23,42,.55);
      border-radius:14px;
      overflow:hidden;
    }
    .card-h{
      display:flex; align-items:center; justify-content:space-between;
      padding:12px 12px 0;
      gap:10px;
    }
    .card-title{font-weight:700}
    .badge{
      font-size:12px; color:var(--muted);
      border:1px solid var(--border);
      padding:4px 8px; border-radius:999px;
      white-space:nowrap;
    }
    .card-b{padding:12px}
    .img-wrap{
      border:1px solid var(--border);
      border-radius:12px;
      overflow:hidden;
      background:#000;
    }
    .img-wrap img{display:block; width:100%; height:auto}
    .btn{
      border:1px solid var(--border);
      background:transparent;
      color:var(--text);
      padding:8px 10px;
      border-radius:10px;
      cursor:pointer;
    }
    .btn.primary{
      border-color:rgba(96,165,250,.6);
      background:rgba(96,165,250,.12);
    }

    details{
      border:1px solid var(--border);
      border-radius:12px;
      background:rgba(15,23,42,.35);
      overflow:hidden;
    }
    summary{
      cursor:pointer;
      padding:10px 12px;
      list-style:none;
      font-weight:600;
    }
    summary::-webkit-details-marker{display:none}
    .details-body{padding:0 12px 12px}
    .hint{color:var(--muted); font-size:13px}

    .table-wrap{overflow:auto; border:1px solid var(--border); border-radius:12px; background:rgba(2,6,23,.35)}
    table{border-collapse:separate; border-spacing:0; width:100%; min-width:620px}
    th,td{padding:10px 10px; border-bottom:1px solid rgba(148,163,184,.14); white-space:nowrap}
    th{
      position:sticky; top:0;
      background:rgba(17,26,46,.98);
      text-align:left;
      font-size:13px; color:var(--muted);
      z-index:1;
    }
    tr:hover td{background:rgba(148,163,184,.06)}
    td.num{text-align:right; font-variant-numeric: tabular-nums}
    .pill{padding:2px 8px; border-radius:999px; border:1px solid var(--border); font-size:12px; color:var(--muted)}
    .pill.good{border-color:rgba(52,211,153,.45); color:#a7f3d0}
    .pill.warn{border-color:rgba(251,191,36,.45); color:#fde68a}

    dialog{
      border:1px solid var(--border);
      border-radius:14px;
      padding:0;
      width:min(1000px, calc(100vw - 24px));
      background:rgba(2,6,23,.88);
      color:var(--text);
    }
    dialog::backdrop{background:rgba(0,0,0,.62)}
    .dlg-h{
      display:flex; justify-content:space-between; align-items:center;
      padding:10px 12px; border-bottom:1px solid var(--border);
      background:rgba(17,26,46,.75);
    }
    .dlg-b{padding:12px}
    .dlg-b img{width:100%; height:auto; display:block; border-radius:12px; border:1px solid var(--border)}

    @media (max-width: 980px){
      .sidebar{
        position:fixed; top:52px; left:0;
        height:calc(100vh - 52px);
        transform:translateX(-105%);
        transition:transform .18s ease;
        z-index:45;
      }
      body.sidebar-open .sidebar{transform:translateX(0)}
      .backdrop{
        position:fixed; inset:0; z-index:40;
        background:rgba(0,0,0,.55);
      }
      .layout{display:block}
      .main{padding:12px}
      .card{grid-column: span 12}
      table{min-width:560px}
    }
    @media (min-width: 980px){
      .card.span6{grid-column: span 6}
    }
  </style>
</head>

<body>
  <header class="topbar">
    <button class="icon-btn" id="menuBtn" aria-label="Open menu" aria-controls="sidebar" aria-expanded="false">☰</button>
    <div class="brand" id="appTitle">Last Z Guide</div>
    <div class="spacer"></div>
    <div class="lang">
      <button class="lang-btn" id="langEn" type="button">EN</button>
      <button class="lang-btn" id="langJa" type="button">日本語</button>
    </div>
  </header>

  <div class="layout">
    <aside class="sidebar" id="sidebar">
      <nav>
        <button class="nav-item" data-section="weapon" type="button" id="navWeapon"></button>
        <button class="nav-item" data-section="hq" type="button" id="navHQ"></button>
        <button class="nav-item" data-section="modVehicle" type="button" id="navModVehicle"></button>
      </nav>
    </aside>

    <main class="main">
      <div class="tabs" id="tabs"></div>
      <article class="content" id="content"></article>
    </main>
  </div>

  <div class="backdrop" id="backdrop" hidden></div>

  <dialog id="imgDialog">
    <div class="dlg-h">
      <div id="imgDialogTitle">Image</div>
      <button class="btn" id="imgDialogClose" type="button">Close</button>
    </div>
    <div class="dlg-b">
      <img id="imgDialogImg" alt="" />
    </div>
  </dialog>

  <script>
    const i18n = {
      en: {
        appTitle: "Last Z Guide",
        nav: { weapon: "Weapon", hq: "HQ", modVehicle: "Mod Vehicle" },
        tabs: {
          weapon: [
            { key: "orange", label: "Orange Weapon" },
            { key: "mythic", label: "Mythic Weapon" },
          ],
          hq: [],
          modVehicle: [],
        },
        orange: {
          title: "Orange D5 Equipment",
          subtitle: "Modern view (cards + expandable tables). Tap an image to zoom.",
          gearCardsTitle: "Gear sheets",
          enhanceTitle: "Enhancement cost & stats",
          promoTitle: "Promotion cost",
          zoom: "Zoom",
          close: "Close",
          note: "If you want, I can convert the numbers into real sortable tables next (you’ll paste/copy the table values).",
          gear: {
            weapon: "Weapon",
            helmet: "Helmet",
            armor: "Armor + Boots",
            promo: "Promotion Cost",
          }
        },
        placeholder: { title: "Coming soon", body: "Add your info here." }
      },

      ja: {
        appTitle: "Last Z ガイド",
        nav: { weapon: "武器", hq: "本部", modVehicle: "改造車" },
        tabs: {
          weapon: [
            { key: "orange", label: "オレンジ武器" },
            { key: "mythic", label: "神話武器" },
          ],
          hq: [],
          modVehicle: [],
        },
        orange: {
          title: "オレンジ D5 装備",
          subtitle: "見やすい表示（カード＋折りたたみ）。画像タップで拡大できます。",
          gearCardsTitle: "装備シート",
          enhanceTitle: "強化コスト＆ステータス",
          promoTitle: "昇格コスト",
          zoom: "拡大",
          close: "閉じる",
          note: "次は、表の数値を貼り付けてもらえれば、並べ替え・検索できる“本物のテーブル”に変換できます。",
          gear: {
            weapon: "武器",
            helmet: "ヘルメット",
            armor: "アーマー＋ブーツ",
            promo: "昇格コスト",
          }
        },
        placeholder: { title: "準備中", body: "ここに情報を追加してください。" }
      },
    };

    const ASSETS = {
      orangeD5: {
        weapon: "assets/orange-d5/Gun.jpg",
        helmet: "assets/orange-d5/Helmet.jpg",
        armorBoots: "assets/orange-d5/Body-and-Boots.jpg",
        promoCost: "assets/orange-d5/Promotion-Cost.jpg"
      }
    };

    let state = { lang: "en", section: "weapon", tab: "orange" };

    const els = {
      appTitle: document.getElementById("appTitle"),
      menuBtn: document.getElementById("menuBtn"),
      backdrop: document.getElementById("backdrop"),
      tabs: document.getElementById("tabs"),
      content: document.getElementById("content"),
      navWeapon: document.getElementById("navWeapon"),
      navHQ: document.getElementById("navHQ"),
      navModVehicle: document.getElementById("navModVehicle"),
      langEn: document.getElementById("langEn"),
      langJa: document.getElementById("langJa"),
      imgDialog: document.getElementById("imgDialog"),
      imgDialogImg: document.getElementById("imgDialogImg"),
      imgDialogTitle: document.getElementById("imgDialogTitle"),
      imgDialogClose: document.getElementById("imgDialogClose"),
    };

    function t(){ return i18n[state.lang]; }

    function setLang(lang){
      state.lang = lang;
      els.langEn.classList.toggle("active", lang === "en");
      els.langJa.classList.toggle("active", lang === "ja");
      renderAll();
    }

    function setSection(sectionKey){
      state.section = sectionKey;
      // set first tab if any
      const tabs = t().tabs[sectionKey] || [];
      state.tab = tabs[0]?.key || "default";
      closeSidebar();
      renderAll();
    }

    function setTab(tabKey){
      state.tab = tabKey;
      renderTabs();
      renderContent();
    }

    function renderNav(){
      els.appTitle.textContent = t().appTitle;
      els.navWeapon.textContent = `${i18n.ja.nav.weapon} / ${i18n.en.nav.weapon}`;
      els.navHQ.textContent = `${i18n.ja.nav.hq} / ${i18n.en.nav.hq}`;
      els.navModVehicle.textContent = `${i18n.ja.nav.modVehicle} / ${i18n.en.nav.modVehicle}`;
      [els.navWeapon, els.navHQ, els.navModVehicle].forEach(btn => {
        btn.classList.toggle("active", btn.dataset.section === state.section);
      });
    }

    function renderTabs(){
      els.tabs.innerHTML = "";
      const tabDefs = t().tabs[state.section] || [];
      if (tabDefs.length === 0) return;

      tabDefs.forEach(tab => {
        const b = document.createElement("button");
        b.className = "tab";
        b.type = "button";
        b.textContent = tab.label;
        b.classList.toggle("active", tab.key === state.tab);
        b.addEventListener("click", () => setTab(tab.key));
        els.tabs.appendChild(b);
      });
    }

    function openImage(title, src){
      els.imgDialogTitle.textContent = title;
      els.imgDialogImg.alt = title;
      els.imgDialogImg.src = src;
      // <dialog> provides modal behavior natively. [MDN]
      els.imgDialog.showModal();
    }

    function orangeWeaponHtml(){
      const pack = t().orange;

      return `
        <h2>${pack.title}</h2>
        <p>${pack.subtitle}</p>

        <div class="grid">
          <section class="card span6">
            <div class="card-h">
              <div class="card-title">${pack.gear.weapon}</div>
              <button class="btn primary" data-zoom="weapon" type="button">${pack.zoom}</button>
            </div>
            <div class="card-b">
              <div class="img-wrap">
                <img src="${ASSETS.orangeD5.weapon}" alt="${pack.gear.weapon}" loading="lazy">
              </div>
            </div>
          </section>

          <section class="card span6">
            <div class="card-h">
              <div class="card-title">${pack.gear.helmet}</div>
              <button class="btn primary" data-zoom="helmet" type="button">${pack.zoom}</button>
            </div>
            <div class="card-b">
              <div class="img-wrap">
                <img src="${ASSETS.orangeD5.helmet}" alt="${pack.gear.helmet}" loading="lazy">
              </div>
            </div>
          </section>

          <section class="card">
            <div class="card-h">
              <div class="card-title">${pack.gear.armor}</div>
              <button class="btn primary" data-zoom="armorBoots" type="button">${pack.zoom}</button>
            </div>
            <div class="card-b">
              <div class="img-wrap">
                <img src="${ASSETS.orangeD5.armorBoots}" alt="${pack.gear.armor}" loading="lazy">
              </div>
            </div>
          </section>

          <section class="card">
            <div class="card-h">
              <div class="card-title">${pack.promoTitle}</div>
              <button class="btn primary" data-zoom="promoCost" type="button">${pack.zoom}</button>
            </div>
            <div class="card-b">
              <div class="img-wrap">
                <img src="${ASSETS.orangeD5.promoCost}" alt="${pack.promoTitle}" loading="lazy">
              </div>
              <p class="hint" style="margin-top:10px">${pack.note}</p>
            </div>
          </section>

          <section class="card">
            <div class="card-h">
              <div class="card-title">${pack.enhanceTitle}</div>
              <span class="badge">Next step: turn screenshots into real data</span>
            </div>
            <div class="card-b">
              <details>
                <summary>Weapon / Helmet / Armor / Boots tables</summary>
                <div class="details-body">
                  <p class="hint">
                    Right now your data is inside images, so it can’t be sorted/filtered.
                    If you paste the values (CSV/text) for one table, I’ll generate a searchable, sortable table UI.
                  </p>
                </div>
              </details>
            </div>
          </section>
        </div>
      `;
    }

    function renderContent(){
      if (state.section === "weapon" && state.tab === "orange"){
        els.content.innerHTML = orangeWeaponHtml();

        els.content.querySelectorAll("[data-zoom]").forEach(btn => {
          btn.addEventListener("click", () => {
            const key = btn.getAttribute("data-zoom");
            const pack = t().orange;
            const titleMap = {
              weapon: pack.gear.weapon,
              helmet: pack.gear.helmet,
              armorBoots: pack.gear.armor,
              promoCost: pack.promoTitle
            };
            openImage(titleMap[key], ASSETS.orangeD5[key]);
          });
        });

        return;
      }

      // placeholders for other sections
      const ph = t().placeholder;
      els.content.innerHTML = `<h2>${ph.title}</h2><p>${ph.body}</p>`;
    }

    function renderAll(){
      renderNav();
      renderTabs();
      renderContent();
      els.imgDialogClose.textContent = t().orange.close;
    }

    function openSidebar(){
      document.body.classList.add("sidebar-open");
      els.backdrop.hidden = false;
      els.menuBtn.setAttribute("aria-expanded","true");
    }
    function closeSidebar(){
      document.body.classList.remove("sidebar-open");
      els.backdrop.hidden = true;
      els.menuBtn.setAttribute("aria-expanded","false");
    }

    // events
    els.navWeapon.addEventListener("click", () => setSection("weapon"));
    els.navHQ.addEventListener("click", () => setSection("hq"));
    els.navModVehicle.addEventListener("click", () => setSection("modVehicle"));

    els.langEn.addEventListener("click", () => setLang("en"));
    els.langJa.addEventListener("click", () => setLang("ja"));

    els.menuBtn.addEventListener("click", () => {
      document.body.classList.contains("sidebar-open") ? closeSidebar() : openSidebar();
    });

    els.backdrop.addEventListener("click", closeSidebar);
    els.imgDialogClose.addEventListener("click", () => els.imgDialog.close());
    els.imgDialog.addEventListener("click", (e) => {
      // click outside image to close
      const rect = els.imgDialog.getBoundingClientRect();
      const inDialog = (e.clientX >= rect.left && e.clientX <= rect.right && e.clientY >= rect.top && e.clientY <= rect.bottom);
      if (!inDialog) els.imgDialog.close();
    });

    // init
    setLang("en");
    setSection("weapon");
  </script>
</body>
</html>
